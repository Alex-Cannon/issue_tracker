<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="/lib/bootstrap.min.css"/> 
  <link rel="stylesheet" type="text/css" href="/style.css"/>
  <title>Issue Tracker</title>
</head>
<body class="container-fluid">
  <div class="row justify-content-center">
    <div class="col-sm-11">
      <br/>
      <h1>Issue Tracker</h1><br/>
      <h3>User Stories:</h3>
      <ol>
        <li>Prevent cross site scripting(XSS attack).</li>
        <li>I can <b>POST</b> <code>/api/issues/{projectname}</code> with form data containing required <i>issue_title</i>, <i>issue_text</i>, <i>created_by</i>, and optional <i>assigned_to</i> and <i>status_text</i>.</li>
        <li>The object saved (and returned) will include all of those fields (blank for optional no input) and also include <i>created_on</i>(date/time), <i>updated_on</i>(date/time), <i>open</i>(boolean, true for open, false for closed), and <i>_id</i>.</li>
        <li>I can <b>PUT</b> <code>/api/issues/{projectname}</code> with a <i>_id</i> and any fields in the object with a value to object said object. Returned will be "successfully updated" or "could not update "+_id. This should always update <i>updated_on</i>. If no fields are sent return "no updated field sent".</li>
        <li>I can <b>DELETE</b> <code>/api/issues/{projectname}</code> with a <i>_id</i> to completely delete an issue. If no _id is sent return "_id error", success: "deleted "+_id, failed: "could not delete "+_id.</li>
        <li>I can <b>GET</b> <code>/api/issues/{projectname}</code> for an array of all issues on that specific project with all the information for each issue as was returned when posted.</li>
        <li>I can filter my get request by also passing along any field and value in the query(ie. <code>/api/issues/{project}?open=false</code>). I can pass along as many fields/values as I want.</li>
        <li>All 11 functional tests are complete and passing.</li>
      </ol><br/>
      <h4>Example GET usage</h4>
      <p>/api/issues/{project}<br/>
        /api/issues/{project}?open=true&assigned_to=Joe</p>
      <h4>Example return:</h4>
      <p>[{"_id":"5871dda29faedc3491ff93bb","issue_title":"Fix error in posting data","issue_text":"When we post data it has an error.","created_on":"2017-01-08T06:35:14.240Z","updated_on":"2017-01-08T06:35:14.240Z","created_by":"Joe","assigned_to":"Joe","open":true,"status_text":"In QA"},...] </p><br/>
      <a href="/test_project"><h3>Example: See <i>test_project</i> project issues</h3></a><br/><br/>
      <h2>API Tests:</h2><br/>
      <form id="submit-issue">
        <h3>Submit issue on test_project</h3>
        <input type="text" name="issue_title" placeholder="*Title" required/><br/>
        <input type="text" name="issue_text" placeholder="*Text" required/><br/>
        <input type="text" name="created_by" placeholder="*Created by" required/><br/>
        <input type="text" name="assigned_to" placeholder="(opt) Assigned to"/><br/>
        <input type="text" name="status_text" placeholder="(opt) Status text"/><br/>
        <input type="submit" class="btn btn-primary" value="Submit Issue"/>
      </form><br/><br/>
      <form id="update-issue">
        <h3>Update issue on test_project</h3>
        <input type="text" name="_id" placeholder="_id"/><br/>
        <input type="text" name="issue_title" placeholder="(opt) Title"/><br/>
        <input type="text" name="issue_text" placeholder="(opt) Text"/><br/>
        <input type="text" name="created_by" placeholder="(opt) Created by"/><br/>
        <input type="text" name="assigned_to" placeholder="(opt) Assigned to"/><br/>
        <input type="text" name="status_text" placeholder="(opt) Status text"/><br/>
        <input type="checkbox" name="open" checked/><label>Issue Open?</label><br/>
        <input type="submit" class="btn btn-warning" value="Update Issue"/>
      </form><br/><br/>
      <form id="delete-issue">
        <h3>Delete an issue on test_project</h3>
        <input type="text" name="_id" placeholder="_id"/><br/>
        <input type="submit" class="btn btn-danger" value="Delete Issue"/>
      </form><br/><br/>
      
    </div>
  </div>
  <script src="/lib/jquery-3.3.1.min.js"></script>
  <script src="/script.js"></script>
</body>
</html>